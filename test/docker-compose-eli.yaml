services:
  gateway:
    command: sh -c /mnt/__docker__/docker_run.sh
    depends_on:
    - vgcon01
    - vgcon02
    - vpcon17
    - vpcon19
    env_file:
    - __docker__.env
    image: baltig.infn.it:4567/epics-containers/docker-ca-gateway
    ports:
    - 5064:5064/tcp
    - 5064:5064/udp
    - 5065:5065/tcp
    - 5065:5065/udp
    volumes:
    - ../config/services/gateway:/mnt
  vgcon01:
    command: sh -c /mnt/__docker__/vgcon01/docker_run.sh
    env_file:
    - __docker__.env
    image: baltig.infn.it:4567/epics-containers/infn-epics-ioc
    ports:
    - 5064/tcp
    - 5064/udp
    - 5065/tcp
    - 5065/udp
    - 5075/tcp
    - 5075/udp
    stdin_open: true
    tty: true
    volumes:
    - ../config/iocs/agilent-vac:/mnt
  vgcon02:
    command: sh -c /mnt/__docker__/vgcon02/docker_run.sh
    env_file:
    - __docker__.env
    image: baltig.infn.it:4567/epics-containers/infn-epics-ioc
    ports:
    - 5064/tcp
    - 5064/udp
    - 5065/tcp
    - 5065/udp
    - 5075/tcp
    - 5075/udp
    stdin_open: true
    tty: true
    volumes:
    - ../config/iocs/agilent-vac:/mnt
  vpcon17:
    command: sh -c /mnt/__docker__/vpcon17/docker_run.sh
    env_file:
    - __docker__.env
    image: baltig.infn.it:4567/epics-containers/infn-epics-ioc
    ports:
    - 5064/tcp
    - 5064/udp
    - 5065/tcp
    - 5065/udp
    - 5075/tcp
    - 5075/udp
    stdin_open: true
    tty: true
    volumes:
    - ../config/iocs/agilent-vac:/mnt
  vpcon19:
    command: sh -c /mnt/__docker__/vpcon19/docker_run.sh
    env_file:
    - __docker__.env
    image: baltig.infn.it:4567/epics-containers/infn-epics-ioc
    ports:
    - 5064/tcp
    - 5064/udp
    - 5065/tcp
    - 5065/udp
    - 5075/tcp
    - 5075/udp
    stdin_open: true
    tty: true
    volumes:
    - ../config/iocs/agilent-vac:/mnt
